<!DOCTYPE html>
<html>
﻿<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>【网站安全】网站被挂木马与777权限的奥妙-网站运营-深圳市千维顺科技有限公司</title>
<meta name="keywords" content="">
<meta name="description" content="某天VIP大讲堂微信群里的一位同学说网站被人挂马了,查了半天也查不到原因。艺龙SEO负责人刘明问了一句“是不是技术把linux系统里网站的核心目录设置777文件权限了”,同学查后发现果然如此。">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<link href="css/index.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="script/jquery-2.1.1.min.js"></script>
<script type="text/javascript" src="script/jquery.SuperSlide.2.1.1.js"></script>
<script type="text/javascript" src="script/website.js"></script>
<!--[if lt IE 9]>
    <script src="script/html5shiv.min.js"></script>
<![endif]-->
</head>
<body>
<div class="header">
  <div class="header-top">
    <div class="logo">
      <div class="logo-img"><a href="index.html" target="_self"><img alt="千维顺科技" src="images/logo.svg"></a></div>
      <div class="logo-title"> <span class="t2">品牌官网 &#8226; 商标注册<br />区块链技术开发服务</span></div>
    </div>
    <div class="telephone"> <span class="title"> 服务热线：</span> <span class="value">
      13411886684      </span> </div>
  </div>
  <div class="nav-container">
    <div class="nav">
      <ul>
        <li class="nav-li "><a href="index.html" target="_self">首页</a></li>
		<li class="nav-li "> <span>产品服务 </span>
          <div class="nav-down">
            <ul>
			  <li><a href="website.html" target="_self"> 高端品牌网站</a></li>
			  <li><a href="webseo.html" target="_self"> 网站推广优化</a></li>
              <li><a href="" target="_self"> 区块链技术</a></li>
			  <li><a href="trademark.html" target="_self"> 商标注册</a></li>
            </ul>
          </div>
        </li>
        <li class="nav-li "><span>案例展示</span>
          <div class="nav-down">
            <ul>
								<li><a href="cases.html" target="_self">
				家具家居				</a></li>
								<li><a href="dianzi.html" target="_self">
				科技电子				</a></li>
								<li><a href="trade.html" target="_self">
				外贸服务				</a></li>
								<li><a href="jingrong.html" target="_self">
				金融服务				</a></li>
				            </ul>
          </div>
        </li>
        
        <li class="nav-li active"><span>资讯</span>
          <div class="nav-down">
            <ul>
              				<li><a href="news.html" target="_self">
				公司动态				</a></li>
								<li><a href="web.html" target="_self">
				网站知识				</a></li>
								<li><a href="operate.html" target="_self">
				网站运营				</a></li>
				            </ul>
          </div>
        </li>
        <li class="nav-li "><span>关于我们</span>
          <div class="nav-down">
            <ul>
              <li><a href="about.html">公司简介</a></li>
              <li><a href="recruit.html">招贤纳士</a></li>
              <li><a href="contact.html">联系我们</a></li>
            </ul>
          </div>
        </li>
      </ul>
    </div>
  </div>
</div>
<script type="text/javascript">
$(".nav-li").hover(function () {
    $(this).find(".nav-down").stop().slideDown(300);
}, function () {
    $(this).find(".nav-down").stop().slideUp(300);
});
</script>


<div class="location">
  <div class="wrap">当前位置：<a href="/">首页</a> &gt; <a href="operate.html">
    网站运营    </a> &gt; <span>
    【网站安全】网站被挂木马与777权限的奥妙    </span></div>
</div>

<div class="news-container fix">
  <div class="news-left fl">
    <div class="title">
      <div class="page fr">
        <a href='news-detail-2864.html' class='next btn'>&lt;</a>        <a href='news-detail-2862.html' class='prev btn'>&gt;</a>      </div>
      <h2>【网站安全】网站被挂木马与777权限的奥妙</h2>
     <p class="sign"><span class="mark">发表日期：2016-10-10 17:16:00</span> <span class="mark">作者： 千维顺</span>
		<span class="mark">浏览：<script src="count_news.php?newsid=2863" language="javascript"></script><!----></span>
	</p>
    </div>
    <div class="news-content">
      <!--<div class="desc"><span>描述：</span>
        某天VIP大讲堂微信群里的一位同学说网站被人挂马了,查了半天也查不到原因。艺龙SEO负责人刘明问了一句“是不是技术把linux系统里网站的核心目录设置777文件权限了”,同学查后发现果然如此。      </div>-->
	         <div class="content">
        <p>某天VIP大讲堂微信群里的一位同学说网站被人挂马了，查了半天也查不到原因。艺龙SEO负责人刘明问了一句“是不是技术把linux系统里网站的核心目录设置777文件权限了”，同学查后发现果然如此。那么，777是什么?老虎机吗?爱偷懒的程序员都该会心一笑，省事大法啊。这简单的数字背后代表了一套伟大的文件权限控制思想。让我们随着【千维顺】的解释慢慢理解。</p><p><strong>一、当用户访问一个网页</strong></p><p>这个时候，你的服务器内部发生了什么，请参考下图。其中任何一个环节有漏洞，都会出问题。注意，本图片只代表个人理解，并非真实流程。</p><p><img src="/UploadFiles/Product/2016-10-10/20161010171804198.jpg" title="网站安全.jpg" alt="网站安全.jpg"/></p><p><strong>二、文件的权限只有三种</strong></p><p>查询一下linux的标准文档，就知道。文件分为，读、写、执行三种权限。</p><p>r Read 可以打开并读取内容。</p><p>w Write 可以修改内容，增加内容，甚至删除内容。</p><p>x Execute 可以当做可执行程序，或者shell脚本执行。</p><p>特别注意，对于目录来说，x表示可以浏览他里头都有什么文件。</p><p><strong>三、文件权限针对的是三类用户。</strong></p><p>owner 文件所有者，或者说是创建了这个文件的人。</p><p>group 文件所在的组，一个组可以包含很多个owner，但不一定包含当前文件这个owner。</p><p>other 其他人，也就是除了当前这个owner，除了当前这个group外的所有人。</p><p><strong>四、实际是什么样子的。</strong></p><p>linux中所有文件都需要记录这3种权限和3种人群。3x3=9，再加上一个标记表示“这是不是一个目录”，一共10个标记。如图所示，</p><p><img src="/UploadFiles/Product/2016-10-10/20161010171814443.png" title="安全.png" alt="安全.png"/></p><p>这12行表示12个文件，都是一个叫sin的人创建都，而且sin的分组是staff。</p><p><strong>五、详细解释一下。</strong></p><p>我们从前到后逐一说一遍。写着子母(drwx)的，表示有这个权限。写着横线(-)的，表示没有这个权限。</p><p>drwxrwxrwx</p><p>1: 这是不是一个文件夹。d表示是，-表示否。(如果写的是l，可以理解为他是快捷方式)</p><p>2：owner是否可以读取这个文件的内容。r表示是，-表示否。</p><p>3：owner是否可以改写这个文件的内容。w表示是，-表示否。</p><p>4: owner是否可以执行这个文件。x表示是，-表示否</p><p>5：group是否可以读取这个文件的内容。r表示是，-表示否。</p><p>6: group是否可以改写这个文件的内容。w表示是，-表示否。</p><p>7: group是否可以执行这个文件。x表示是，-表示否。</p><p>8: other是否可以读取这个文件的内容。r表示是，-表示否。</p><p>9：other是否可以改写这个文件的内容。w表示是，-表示否。</p><p>10：other是否可以执行这个文件。x表示是，-表示否。</p><p><strong>六、怎么用数字方便的表示文件权限。</strong></p><p>因为10个位置中，第1个不是权限，我们就只看后边9个位置。</p><p>如何把这个权限转化成数字呢?rwxrw-r--</p><p>owner group other</p><p>符号 r w x r w - r - -</p><p>二进制 1 1 1 1 1 0 1 0 0</p><p>相加之和 7 6 4</p><p>111 = 2^2 + 2^1 + 2^0 = 7</p><p>110 = 2^2 + 2^1 =6</p><p>100 = 2^2 = 4</p><p>所以rwxrw-r--就变成了：764</p><p><strong>七、常用的权限数字</strong></p><p>常用更改文件权限的命令，xxx代表文件名</p><p>600 只有owner有读和写的权限</p><p>644 owner有读和写的权限，group只有读的权限</p><p>700 只有ower有读和写以及执行的权限</p><p>666 owner,group,other都有读和写的权限</p><p>777 owner,group,other都有读和写以及执行的权限</p><p><strong>八、终于讲到正题了</strong></p><p>讲了这么说，你应该明白777的意思就是，任何人可以干任何事。那等于什么权限都没设啊!linux再安全也架不住自己人刻意制造漏洞吧。这完全等同于把钢铁侠屁股上的材料换成了窗户纸。</p><p>linux的安全原则是最小权限原则，能不给的权限就不要给。而很多懒惰或者新手的程序员往往为了省事使用最大权限。</p><p>有的人问，网站需要上传图片，需要w很正常，否则图片放哪呢。那我想问，你家的房子，是不是可以随便挪动?冰箱能挪动，承重墙能挪的动吗?请注意，客厅，卧室，厕所，厨房的空间都是rw的，但是承重墙只能是r的，不能随便w。</p><p>同理，网站核心代码是不可写的，只能可读。</p><p>学会了权限的基本支持，怎么运用呢?(只能说大概意思，具体应该怎么部署，还是找专业都运维同学问吧，我好久没碰web了。)</p><p>假设我把核心代码放在/var/www/，我把图片放在/var/pic/。前者目录rw，里头所有文件r。后者本身w，里头所有文件r</p><p>webserver只能解析/var/www/里的文件，不能执行/var/pic/里的。这样不至于让人家把木马程序放到/var/pic/里执行。</p><p>由于每个网站使用的语言都不一样，无法做一个统一说明，只能举几个例子。假如你的网站使用php语言，植入的木马基本也都是php语言写的命令。</p><p>可以分别试试这两个命令，因为php木马常用eval和create_function来做坏事(说/var/www/路径不存在的同学，面壁思过10分钟)。</p><p>grep &quot;eval(&quot; /var/www/* -r</p><p>grep &quot;create_function(&quot; /var/www/* -r</p><p>请注意，并不是没有用777权限，就万无一失了，web的漏洞多如牛毛，无孔不入，本文章只是抛砖引玉。</p><p>随着“互联网+”时代的到来，全网营销已经变得非常重要，你是否也想让你的企业在网上发展更快更强大呢?那您身边的千维顺就是一家专致于企业营销型网站建设，营销型手机网站建设的公司，不断为传统企业打造网络快速赚钱机器，为不少企业赢得了抢占网络市场的先机。<strong>而你离成功只差一个电话! </strong>赶紧拨打千维顺免费热线电话：<strong>400-615-<strong>8</strong>050。</strong>您可以点击：<img src=".cn/UploadFiles/Product/2016-01-04/20160104115151755.jpg" title="20150812105449203.jpg" alt="20150812105449203.jpg"/>,进行进一步的咨询!</p>      </div>
	  
	      </div>
    <div class="page-list clearfix"><a href="operate.html" class="return">返回列表</a>
      <ul>
        <li> 上一篇：
          <a href='news-detail-2862.html'>什么是营销型网站落地页</a>        </li>
        <li> 下一篇：
          <a href='news-detail-2864.html'>如何让新上线的营销型网站快速被收录?</a>        </li>
      </ul>
    </div>
  </div>
  <div class="news-list-right fr">
    <dl>
      <dt>相关信息</dt>
            <dd>
        <h3><a href="news-detail-2952.html" title="关键词不能在网站内部重复布局，你知道吗?">
          关键词不能在网站内部重复布局，你知道吗?          </a></h3>
        <p class="text"><a href="news-detail-2952.html" title="关键词不能在网站内部重复布局，你知道吗?">
          很多新手站长在做关键词布局的时候,容易犯一个错误,关键词在网站页面里重复出现,简单来说一个核心关键词不仅仅在首页,栏目页、分类页、详情页都有布局,其实这样做,不利于关键词优化。          </a></p>
        <p class="time">日期：
          2018-02-01 16:18:00        </p>
      </dd>
            <dd>
        <h3><a href="news-detail-3018.html" title="快照倒退，您清楚文章更新频率对网站快照更新影响吗">
          快照倒退，您清楚文章更新频率对网站快照更新影响吗          </a></h3>
        <p class="text"><a href="news-detail-3018.html" title="快照倒退，您清楚文章更新频率对网站快照更新影响吗">
          一直在强调网站必须每天定时定量的更新文章,在实际运营中,很多企业没有重视网站内部更新文章的作用,平常是由其他岗位人员兼职来做,有时间就更新,没时间就算了,一个月下来,也没更新几篇文章,结果百度快照没有更新,搜索品牌词无法看到网站。          </a></p>
        <p class="time">日期：
          2019-03-26 17:54:00        </p>
      </dd>
            <dd>
        <h3><a href="news-detail-3087.html" title="东莞关键词优化，企业必知的方面!">
          东莞关键词优化，企业必知的方面!          </a></h3>
        <p class="text"><a href="news-detail-3087.html" title="东莞关键词优化，企业必知的方面!">
          互联网营销上各行业的企业都会想到关键词优化等SEO手段来提高网站排名,让更多的用户在第一时间看到企业的相关信息,有机会获得更多的点击量,让更多的用户了解企业,提高企业的销售转型。          </a></p>
        <p class="time">日期：
          2021-02-10 22:40:00        </p>
      </dd>
            <dd>
        <h3><a href="news-detail-2812.html" title="如何让百度快速收录营销网站内容技巧">
          如何让百度快速收录营销网站内容技巧          </a></h3>
        <p class="text"><a href="news-detail-2812.html" title="如何让百度快速收录营销网站内容技巧">
          那针对于与网站文章如何快速被搜索引擎所收录这个问题,广州营销型网站建设公司小编是非常乐意来为大家分享的,就拿我们千维顺来说,我们每天都会去给文章更新好几篇文章,网站一放上去就会被搜索引擎所收录,可以说是秒收吧,那从搜索引擎的角度上看我们的营销网站被搜索引擎肯定了,而且搜索引擎的蜘蛛对网站爬行非常频繁,那很多的朋友就会问如何让百度快速收录网站内容呢?有什么技巧嘛?          </a></p>
        <p class="time">日期：
          2016-03-28 15:04:00        </p>
      </dd>
            <dd>
        <h3><a href="news-detail-2929.html" title="新手必看:常更新优质文章对网站优化的好处">
          新手必看:常更新优质文章对网站优化的好处          </a></h3>
        <p class="text"><a href="news-detail-2929.html" title="新手必看:常更新优质文章对网站优化的好处">
          要想优化有好的结果,少不了优质文章更新,这既是搜索引擎优化规则要求,也是用户对于优质网站需求。保持网站优质文章的更新,保持网站的活跃度,吸引搜索引擎频繁抓取,吸引更多用户点击浏览。          </a></p>
        <p class="time">日期：
          2017-09-11 19:59:00        </p>
      </dd>
            <dd>
        <h3><a href="news-detail-2537.html" title="SEO导出链链接策略">
          SEO导出链链接策略          </a></h3>
        <p class="text"><a href="news-detail-2537.html" title="SEO导出链链接策略">
          链接策略,有分为内部链接策略、外部链接扩展策略同时还有导出链接策略。例如说,我们应该链接到什么样的站点?如果我们链接到了普普通通或者很差的网站,这是在降低自己网站的权威性。          </a></p>
        <p class="time">日期：
          2013-01-31 16:55:00        </p>
      </dd>
            <dd>
        <h3><a href="news-detail-2871.html" title="【千维顺分享】：哪些行为会降权?">
          【千维顺分享】：哪些行为会降权?          </a></h3>
        <p class="text"><a href="news-detail-2871.html" title="【千维顺分享】：哪些行为会降权?">
          很多的站长一听到降权就有种怕怕的感觉,那站长说的“降权”对于度娘来说,压根没有权重,但如果有违规行为一定会有惩罚的,那坊间有很多关于“降权”的传言,说这样做会降权,那样做会降权,那究竟哪些行为会降权呢,【千维顺】小编在这里分享给大家          </a></p>
        <p class="time">日期：
          2016-11-11 18:05:00        </p>
      </dd>
            <dd>
        <h3><a href="news-detail-2613.html" title="企业如何做好百度竞价推广">
          企业如何做好百度竞价推广          </a></h3>
        <p class="text"><a href="news-detail-2613.html" title="企业如何做好百度竞价推广">
          传统企业在互联网上做网络营销推广,百度竞价是可以帮助我们获客的重要渠道,下面竞价老师分享,企业如何做好百度竞价推广?          </a></p>
        <p class="time">日期：
          2020-10-18 10:32:00        </p>
      </dd>
            <dd>
        <h3><a href="news-detail-1830.html" title="如何做好移动端的竞价推广效果">
          如何做好移动端的竞价推广效果          </a></h3>
        <p class="text"><a href="news-detail-1830.html" title="如何做好移动端的竞价推广效果">
          目前,随着移动互联网的快速发展,许多中小型企业开始重视手机网站的建设,做了手机网站,就必须的发挥手机网站的价值,获取更多的移动端客户,那么就得做手机网站优化、做推广,搜索引擎为了满足客户的需求,就推出了移动端的优化规则跟竞价推广规则          </a></p>
        <p class="time">日期：
          2015-07-24 17:28:00        </p>
      </dd>
            <dd>
        <h3><a href="news-detail-2768.html" title="如何让百度蜘蛛更好的收录营销型网站图片并展现">
          如何让百度蜘蛛更好的收录营销型网站图片并展现          </a></h3>
        <p class="text"><a href="news-detail-2768.html" title="如何让百度蜘蛛更好的收录营销型网站图片并展现">
          随着百度智能化水平提升,现在百度对于百度抓取技术显著提高,为了能够让百度蜘蛛能够抓取更多的站内图片,做好相应的图片推广,现在深圳营销型网站建设?小编与大家分享基于图片优化的技巧,让百度蜘蛛更好的识别您的图片内容,提高图片的收录机率。          </a></p>
        <p class="time">日期：
          2015-11-30 18:20:00        </p>
      </dd>
          </dl>
  </div>
</div>
<div class="px20"></div>
<footer class="footer clearfix">
  <div class="contact">
    <div class="wrap">
      <div class="home_about fl">
        <dl>
          <dt><a>关于我们</a></dt>
          <dd>千维顺科技专注于网站定制，始终追求“用最快的速度定制出最好的网站”。懂您所需、做您所想！我们一直在思考如何为客户创造更大的价值，让客户更省心! </dd>
          <dd><a href="aboutus.php" class="more">查看更多 >></a></dd>
        </dl>
      </div>
       
      <div class="home_service fl">
        <h2><a>服务范围</a></h2>
        <a class="sub" href="#">品牌官网设计</a><a class="sub" href="#" rel="noFollow">商城网站开发</a>
		<a class="sub" href="#">手机网站设计</a><a class="sub" href="#">微信网站建设</a>
		</div>
      <div class="home_contact fr">
        <h2><a href="">联系我们</a></h2>
        <ul>
          <li><i class="addres"></i>地    址：深圳市坪山区龙田街道锦绣中路9号1栋</li>
          <li><i class="email"></i>邮    箱：<a target="_blank" rel="nofollow" href="mailto:support@szqws.com">support@szqws.com</a></li>
          <li><i class="call"></i>电    话：13411886684</li>
          <li><i class="weixin"></i>财    务：13612951101</li>
        </ul>
      </div>
    </div>
  </div>
  <div class="blogroll" >
    <div class="wrap"> 友情链接：
      <a href="http://www.szqws.com/sitemap.xml">网站地图</a> &nbsp;|&nbsp; <a href="http://www.szqws.com/mobile/">切换移动端</a>
      <p style="padding-top: 15px; line-height: 28px;font-size: 12px;">网站建设，家具网站建设，企业网站建设，深圳网站建设，深圳网站建设公司，深圳网站设计  ，办公家具网站建设，企业网站建设，营销型网站建设，上海网站建设，广州网站建设，北京网站建设 </p>
      <p class="copyright">@2009-2023 版权所有
        深圳市千维顺科技有限公司       <a href="http://www.beian.miit.gov.cn/" target="_blank"> 粤ICP备09061029号</a>
      </p>
    </div>
  </div>
</footer>
<script type="text/javascript">
  //$(".news-content .content img").before("<figure>");
  $(".news-content .content img").parent().addClass("image");
</script>
</body>
</html>
